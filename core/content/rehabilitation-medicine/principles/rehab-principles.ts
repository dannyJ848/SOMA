import { LegacyEducationalContent } from '../../types';

export const rehabPrinciplesContent: LegacyEducationalContent = {
  id: 'rehab-principles',
  title: 'Principles of Rehabilitation Medicine',
  category: 'rehabilitation-medicine',
  subcategory: 'principles',
  levels: {
    1: {
      title: 'Introduction to Rehabilitation',
      summary: 'Learn the basic concepts and goals of rehabilitation medicine.',
      content: `
# Introduction to Rehabilitation

Rehabilitation medicine helps people recover and live their best lives after illness, injury, or disability. Think of it as a team effort to help someone regain independence and quality of life.

## What is Rehabilitation?

Rehabilitation is a process that helps people:
- Recover movement and function after injury or surgery
- Learn new ways to do things when old ways are no longer possible
- Adapt to physical changes caused by illness or disability
- Return to work, hobbies, and daily activities

## Key Goals

1. **Restore Function** - Help the body work as well as possible
2. **Build Independence** - Enable people to do things for themselves
3. **Improve Quality of Life** - Make daily life more enjoyable and fulfilling
4. **Prevent Complications** - Stop problems before they start
5. **Support Adaptation** - Help adjust to new abilities

## The Rehabilitation Process

Rehabilitation is different for everyone but often follows these steps:
1. Assessment - Understanding what help is needed
2. Goal Setting - Deciding what to work toward
3. Treatment - Working on specific skills and abilities
4. Practice - Repeating exercises to improve
5. Progress - Measuring improvement and adjusting plans

## Who Benefits?

Rehabilitation helps people with:
- Stroke and brain injury
- Spinal cord injury
- After surgery (like joint replacement)
- Chronic pain conditions
- Neurological diseases (like Parkinson's or MS)
- Sports injuries
- Work-related injuries

Rehabilitation gives people hope and practical help to rebuild their lives.
      `,
      keyPoints: [
        'Rehabilitation helps people recover function after illness, injury, or disability',
        'The main goals are restoring function, building independence, and improving quality of life',
        'Rehabilitation is personalized and involves assessment, goal setting, treatment, and practice',
        'A team approach helps address all aspects of a person\'s recovery'
      ],
      flashcards: [
        { front: 'What is rehabilitation medicine?', back: 'A medical specialty that helps people recover function and independence after illness, injury, or disability through personalized treatment and therapy.' },
        { front: 'What are the main goals of rehabilitation?', back: 'Restore function, build independence, improve quality of life, prevent complications, and support adaptation to new abilities.' },
        { front: 'Who can benefit from rehabilitation?', back: 'People with stroke, brain injury, spinal cord injury, after surgery, chronic pain, neurological diseases, sports injuries, and work-related injuries.' }
      ]
    },
    intermediate: {
      title: 'Core Rehabilitation Principles',
      summary: 'Understand the fundamental principles that guide rehabilitation practice.',
      content: `
# Core Rehabilitation Principles

Effective rehabilitation is built on evidence-based principles that guide assessment, treatment planning, and intervention strategies.

## Neuroplasticity

The brain's ability to reorganize itself forms the foundation of much rehabilitation:

- **Use it or lose it**: Neural pathways not used may weaken
- **Use it and improve it**: Practice strengthens connections
- **Specificity**: Training specific tasks improves those tasks
- **Repetition**: Massed practice drives neuroplastic change
- **Intensity**: Challenging tasks promote greater adaptation
- **Salience**: Meaningful activities engage more neural networks
- **Time**: Recovery continues over extended periods

## Motor Learning Principles

Rehabilitation leverages how people learn and retain movement skills:

### Stages of Motor Learning
1. **Cognitive Stage**: Understanding what to do (high attention needed)
2. **Associative Stage**: Refining the movement (less attention needed)
3. **Autonomous Stage**: Automatic performance (minimal attention needed)

### Key Concepts
- **Feedback**: Both intrinsic (self-correction) and extrinsic (therapist guidance)
- **Practice Variability**: Mixing practice conditions improves retention
- **Mental Practice**: Visualizing movement activates similar brain areas as actual practice
- **Whole vs Part Practice**: Sometimes practice whole movements, sometimes break into parts

## Biopsychosocial Model

Rehabilitation considers the whole person:

- **Biological**: Physical impairments, body structure and function
- **Psychological**: Thoughts, emotions, beliefs, coping strategies
- **Social**: Environment, support systems, cultural factors, community access

## Patient-Centered Care

The patient's goals and values drive rehabilitation:

- Shared decision-making between patient and team
- Goals are meaningful to the patient's life
- Treatment respects individual preferences and circumstances
- Patient is an active participant, not passive recipient

## Functional Approach

Focus on what matters to the patient:

- Practice real-life activities, not just isolated movements
- Context-specific training in relevant environments
- Address barriers to participation in desired roles
- Build skills that transfer to daily life

## Holistic Assessment

Understanding the full picture:

- Strengths and abilities, not just impairments
- Environmental facilitators and barriers
- Personal factors (motivation, resources, support)
- Prior level of function and future goals

## Team Collaboration

Rehabilitation requires teamwork:

- Multiple disciplines contribute unique expertise
- Regular communication ensures coordinated care
- Patient and family are essential team members
- Community resources extend rehabilitation beyond the clinical setting
      `,
      keyPoints: [
        'Neuroplasticity principles explain how the brain rewires itself through repeated, meaningful practice',
        'Motor learning progresses through cognitive, associative, and autonomous stages',
        'The biopsychosocial model addresses biological, psychological, and social factors',
        'Patient-centered care focuses on the individual\'s goals, values, and preferences',
        'Functional approach emphasizes practicing real-life activities that matter to the patient'
      ],
      flashcards: [
        { front: 'What are the key principles of neuroplasticity?', back: 'Use it or lose it, use it and improve it, specificity, repetition, intensity, salience, and time - these principles guide how rehabilitation drives brain reorganization.' },
        { front: 'What are the three stages of motor learning?', back: 'Cognitive stage (understanding the movement), Associative stage (refining the movement), and Autonomous stage (automatic performance).' },
        { front: 'What is the biopsychosocial model in rehabilitation?', back: 'An approach that considers biological factors (physical impairments), psychological factors (thoughts and emotions), and social factors (environment and support systems) in understanding and treating patients.' }
      ]
    },
    advanced: {
      title: 'Advanced Rehabilitation Concepts',
      summary: 'Deepen understanding of complex rehabilitation theories and applications.',
      content: `
# Advanced Rehabilitation Concepts

Modern rehabilitation integrates sophisticated theories from neuroscience, motor control, and psychology to optimize outcomes.

## Motor Control Theories

### Systems Theory
Movement emerges from the interaction of multiple systems:
- **Nervous system**: Commands and coordinates action
- **Musculoskeletal system**: Produces force and movement
- **Environment**: Context and constraints for action
- **Task**: The goal to be achieved

The same movement pattern never repeats exactly - the body self-organizes based on current constraints.

### Dynamic Systems Theory
Movement patterns emerge from the interaction of:
- **Organismic constraints**: Physical, mental, behavioral characteristics
- **Environmental constraints**: Physical, social, cultural factors
- **Task constraints**: Goals, rules, equipment

This explains why rehabilitation in different contexts produces different outcomes and supports training in varied environments.

## International Classification of Functioning (ICF)

The World Health Organization's framework provides a common language:

### Components
1. **Body Functions & Structures**: Physiological and anatomical components
2. **Activity**: Execution of a task by an individual
3. **Participation**: Involvement in life situations
4. **Environmental Factors**: External influences on function
5. **Personal Factors**: Internal influences on function

### Interactions
These components interact bidirectionally:
- Impairment may limit activity, but activity limitations also worsen impairment
- Environmental barriers can turn a mild impairment into major disability
- Participation restrictions can affect physical and mental health

## Recovery vs. Compensation

### Recovery Strategies
Aim to restore original movement patterns:
- Target damaged neural pathways
- Focus on quality of movement
- May have biological limits based on injury severity

### Compensation Strategies
Develop alternative ways to accomplish tasks:
- Use alternative movement patterns
- May use assistive devices
- Focus on functional outcome over movement quality

**Key Principle**: Effective rehabilitation often combines both approaches - maximizing recovery while teaching compensatory strategies for safety and independence.

## Critical Periods & Windows of Opportunity

### Spontaneous Recovery
Most rapid improvement occurs in first 3-6 months post-injury due to:
- Resolution of acute processes (edema, inflammation)
- Restoration of perfusion
- Natural neuroplastic processes

### Sensitive Periods
Certain interventions may be more effective at specific times:
- Earlier intensive therapy may capitalize on enhanced plasticity
- But too early can be harmful if tissues are still healing
- Individual factors affect optimal timing

### Maintenance & Prevention
Even after plateau, rehabilitation helps:
- Maintain gains
- Prevent secondary complications
- Slow decline in progressive conditions
- Adapt to changing abilities

## Dose-Response Relationships

### Training Parameters
Research shows dose affects outcomes:
- **Amount**: More therapy = more gains (up to a point)
- **Frequency**: Distributed practice often better than massed
- **Intensity**: Challenge level should be just beyond current ability
- **Duration**: Longer treatment periods produce sustained gains

### Individualization
Optimal dose varies based on:
- Severity and nature of condition
- Comorbidities and medical stability
- Fatigue and response to therapy
- Personal goals and resources

## Measurement-Based Care

### Outcome Measurement
Valid, reliable assessments guide practice:
- **Impairment measures**: Range of motion, strength, spasticity
- **Activity measures**: Gait speed, functional capacity, self-care
- **Participation measures**: Community integration, return to work
- **Quality of life measures**: Patient-reported outcomes

### Goal Attainment Scaling (GAS)
Personalized goal measurement:
- Set individualized, meaningful goals
- Scale levels of achievement from -2 to +2
- Calculate overall GAS score across goals
- Sensitive to individual change

## Evidence-Based Practice

Integration of three components:
1. **Best available research evidence**
2. **Clinical expertise**
3. **Patient values and circumstances**

This ensures rehabilitation is both scientifically sound and personally meaningful.
      `,
      keyPoints: [
        'Dynamic systems theory explains how movement emerges from the interaction of organismic, environmental, and task constraints',
        'The ICF framework provides a comprehensive model of functioning that includes body structures, activities, participation, and environmental factors',
        'Recovery strategies aim to restore original movement patterns, while compensation develops alternative approaches',
        'Critical periods and sensitive windows influence when interventions are most effective',
        'Dose-response relationships help optimize therapy parameters for individual patients'
      ],
      flashcards: [
        { front: 'What is the difference between recovery and compensation in rehabilitation?', back: 'Recovery aims to restore original movement patterns by targeting damaged neural pathways and focusing on movement quality. Compensation develops alternative movement patterns or uses assistive devices to accomplish tasks, prioritizing functional outcomes.' },
        { front: 'What are the components of the ICF framework?', back: 'Body Functions & Structures (physiological/anatomical components), Activity (task execution), Participation (involvement in life situations), Environmental Factors (external influences), and Personal Factors (internal influences).' },
        { front: 'What are the three components of evidence-based practice?', back: 'Best available research evidence, clinical expertise, and patient values and circumstances - integrated to provide care that is both scientifically sound and personally meaningful.' }
      ]
    },
    expert: {
      title: 'Specialized Rehabilitation Applications',
      summary: 'Master specialized rehabilitation approaches for complex conditions.',
      content: `
# Specialized Rehabilitation Applications

Expert-level rehabilitation requires nuanced understanding of complex conditions and sophisticated intervention strategies.

## Neurological Rehabilitation

### Stroke Recovery

#### Neuroplasticity Mechanisms
- **Diaschisis resolution**: Recovery of function in remote but connected areas
- **Perilesional reorganization**: Adjacent cortex takes over function
- **Contralesional hemisphere contribution**: Undamaged side may compensate (can help or interfere)
- **Alternative pathway activation**: Recruitment of secondary motor pathways

#### Cortical Mapping Findings
- Constraint-Induced Movement Therapy (CIMT) forces use, expanding cortical representation
- Mirror therapy activates mirror neuron system, facilitating motor learning
- Mental practice activates similar networks as physical practice
- Bilateral arm training may facilitate interhemispheric balance
- Non-invasive brain stimulation (TMS, tDCS) modulates cortical excitability

#### Timing Considerations
- **Acute phase (0-7 days)**: Mobilization, prevention of complications, early activity when medically stable
- **Subacute phase (7 days-6 months)**: Intensive rehabilitation, greatest neuroplastic potential
- **Chronic phase (6+ months)**: Continued improvement possible but slower, focus on compensation and participation

### Traumatic Brain Injury

#### Heterogeneity of TBI
- Diffuse axonal injury affects widespread networks
- Frontal lobe involvement common â†’ executive dysfunction
- Shear injuries may not appear on imaging
- Behavioral and cognitive deficits often more disabling than physical

#### Rehabilitation Approaches
- **Errorless learning**: Prevents consolidation of incorrect responses
- **External cueing**: Bypasses impaired initiation
- **Aerobic exercise**: May enhance cognitive recovery
- **Integrated behavioral and cognitive strategies**: Addresses real-world function

### Spinal Cord Injury

#### Activity-Based Therapy
- Repetitive task-specific practice below level of injury
- Massed practice drives spinal cord plasticity
- Locomotor training activates central pattern generators
- Functional electrical stimulation (FES) activates paralyzed muscles

#### Neuroprotection & Regeneration
- Early surgical decompression improves outcomes
- Intensive rehabilitation may promote neuroprotective effects
- Research into stem cells, biomaterials, and neuroregeneration ongoing

#### Secondary Complications
- Pressure injuries: Prevention through weight shifts, specialized equipment
- Autonomic dysreflexia: Emergency management, blood pressure monitoring
- Spasticity: Management through stretching, medications, intrathecal baclofen
- Neurogenic bowel/bladder: Scheduled programs, medications, procedures

## Orthopedic Rehabilitation

### Prehabilitation
Pre-surgical conditioning improves outcomes:
- Pre-operative education reduces anxiety and sets expectations
- Strengthening before surgery enhances post-operative recovery
- Mental preparation improves engagement in rehabilitation

### Tissue Healing Principles
#### Inflammatory Phase (0-6 days)
- Protection, relative rest, modalities for pain/inflammation
- Active range of motion within pain tolerance
- Isometric exercises maintain muscle activation

#### Proliferation Phase (6 days-6 weeks)
- Gradually load healing tissues
- Progressive strengthening
- Neuromuscular re-education
- Balance and proprioception training

#### Remodeling Phase (6 weeks+)
- Progressive loading and functional activities
- Sport- or work-specific training
- Power and plyometric training when appropriate
- Maintenance of flexibility and strength

### Return to Sport Criteria
- **Strength**: 90% compared to uninvolved side
- **Range of motion**: Equal to uninvolved side
- **Functional testing**: Age- and sport-specific standard
- **Psychological readiness**: Confidence, fear of movement addressed
- **Sport-specific movements**: Pain-free and controlled

## Cardiopulmonary Rehabilitation

### Exercise Prescription Principles
- **Frequency**: 3-5 days per week
- **Intensity**: 40-80% heart rate reserve, Rating of Perceived Exertion 11-16
- **Time**: 20-60 minutes continuous or interval
- **Type**: Aerobic + resistance training

### Special Considerations
- Medical monitoring during exercise for certain conditions
- Oxygen saturation monitoring for lung disease
- Energy conservation techniques for severe impairment
- Breathing strategies and airway clearance techniques

## Pediatric Rehabilitation

### Developmental Considerations
- Children are not "small adults" - developing nervous system responds differently
- Critical periods for skill acquisition
- Family-centered care is essential
- Play-based therapy maintains engagement
- Education integration crucial

### Cerebral Palsy
- Spasticity management (botulinum toxin, baclofen, surgery)
- Goal-directed functional training
- Strength training counteracts weakness (not just spasticity)
- Tone management integrated with functional goals
- Serial casting for contracture management

## Rehabilitation Technology

### Robotics
- Repetitive, high-dose therapy with consistency
- Objective measurement of performance
- Can provide assistance, resistance, or guidance
- Expensive and may not translate to functional tasks

### Virtual Reality
- Immersive, engaging practice environment
- Safe practice of challenging tasks
- Real-time feedback and motivation
- Transfer to real-world function needs verification

### Brain-Computer Interfaces
- Direct brain control of assistive devices
- Neurofeedback for self-regulation
- Research stage for many applications
- Promise for severe paralysis
      `,
      keyPoints: [
        'Neurological rehabilitation leverages neuroplasticity mechanisms including diaschisis resolution, perilesional reorganization, and alternative pathway activation',
        'Stroke recovery timing considerations differ between acute, subacute, and chronic phases with varying rehabilitation priorities',
        'Orthopedic rehabilitation follows tissue healing phases with specific intervention goals for each phase',
        'Cardiopulmonary rehabilitation follows FITT principles (Frequency, Intensity, Time, Type) with special medical monitoring considerations',
        'Pediatric rehabilitation requires developmental approaches with family-centered, play-based, and education-integrated therapy'
      ],
      flashcards: [
        { front: 'What are the phases of tissue healing in orthopedic rehabilitation?', back: 'Inflammatory Phase (0-6 days): Protection and pain management. Proliferation Phase (6 days-6 weeks): Gradual loading and strengthening. Remodeling Phase (6 weeks+): Progressive loading and sport-specific training.' },
        { front: 'What is activity-based therapy for spinal cord injury?', back: 'Repetitive task-specific practice below the level of injury that drives spinal cord plasticity, including locomotor training, functional electrical stimulation, and massed practice to activate central pattern generators and promote reorganization.' },
        { front: 'How does pediatric rehabilitation differ from adult rehabilitation?', back: 'Children have developing nervous systems with critical periods for skill acquisition, require family-centered care, benefit from play-based therapy to maintain engagement, and need integration with educational settings.' }
      ]
    },
    master: {
      title: 'Rehabilitation Medicine Mastery',
      summary: 'Comprehensive mastery of rehabilitation principles across practice domains.',
      content: `
# Rehabilitation Medicine Mastery

Expert practice in rehabilitation requires integration of advanced knowledge across multiple domains with sophisticated clinical reasoning and judgment.

## Clinical Reasoning in Rehabilitation

### Hypothesis-Generation and Testing
Expert clinicians continuously generate and test hypotheses:
1. **Data collection**: Observation, examination, patient report
2. **Pattern recognition**: Identifying clusters of findings
3. **Hypothesis generation**: Possible explanations for problems
4. **Hypothesis testing**: Specific assessments or intervention trials
5. **Revision**: Updating understanding based on new information

### Clinical Prediction Rules
Evidence-based tools to guide decision-making:
- Identify patients likely to respond to specific interventions
- Determine prognosis and expected outcomes
- Guide discharge planning and resource allocation
- Must be applied with clinical judgment

### Diagnostic Reasoning
**Red flags** that require urgent medical attention:
- Progressive neurological symptoms
- Unexplained weight loss
- History of cancer
- Severe night pain
- Constitutional symptoms

**Yellow flags** that predict chronicity:
- Maladaptive beliefs about pain
- Fear-avoidance behaviors
- Catastrophic thinking
- Poor coping strategies
- Workplace factors

## Complex Case Management

### Multimorbidity
Multiple interacting conditions require sophisticated prioritization:
- Which conditions are most limiting?
- What are the interactions between treatments?
- How to balance competing demands?
- When to refer to specialists?

### Polypharmacy Considerations
Medication effects impact rehabilitation:
- Side effects may limit participation (fatigue, dizziness)
- Some medications affect balance and fall risk
- Timing of medications around therapy sessions
- Potential for drug-drug interactions

### Psychosocial Complexity
Non-physical factors significantly affect outcomes:
- Health literacy affects understanding and engagement
- Cultural beliefs influence acceptance of treatment
- Socioeconomic factors limit access to resources
- Social support predicts success of community integration
- Mental health conditions require integrated management

## Interprofessional Collaboration

### Team Dynamics
Effective teams demonstrate:
- **Shared mental model**: Common understanding of patient and plan
- **Mutual respect**: Valuing each discipline's contribution
- **Clear communication**: Regular information exchange
- **Defined roles**: Understanding who does what
- **Collaborative goal setting**: Everyone aligned on priorities

### Leadership in Rehabilitation
- Clinical leadership doesn't require title
- Facilitates team communication and coordination
- Advocates for patient needs within system
- Models evidence-based practice and lifelong learning
- Mentors junior team members

### Family as Partners
- Family are experts on patient's baseline and context
- Involved family members improve outcomes and adherence
- Education reduces family burden and improves support
- Family meetings ensure shared understanding and planning
- Cultural values shape family roles in care

## Systems Thinking in Rehabilitation

### Continuum of Care
Rehabilitation occurs across settings:
- **Acute**: Inpatient, early mobilization, prevention
- **Subacute**: Inpatient rehab, intensive therapy
- **Outpatient**: Community-based, focused services
- **Home**: Home-based therapy, environmental adaptation
- **Community**: Fitness programs, support groups, maintenance

### Transitions of Care
High-risk periods require careful planning:
- Timely communication between providers
- Medication reconciliation
- Equipment and follow-up arranged before discharge
- Patient and family education completed
- Safety assessment of home environment

### Quality Improvement
- Measure outcomes systematically
- Identify gaps between current and best practice
- Implement changes to improve care
- Re-measure to assess impact
- Share learning with team

## Ethical Considerations

### Autonomy vs. Beneficence
Balancing respect for patient choice with professional judgment:
- Patient has right to refuse recommended treatment
- But clinician has obligation to inform and advocate
- Shared decision-making navigates this tension
- Cultural differences affect views on autonomy

### Resource Allocation
- Not all beneficial treatments are available to all patients
- Insurance coverage affects treatment options
- Advocacy may be needed to obtain appropriate care
- Creative solutions can work around resource limitations

### Goals of Care Disagreement
When patients/families want different outcomes than clinicians think possible:
- Clarify underlying values and fears
- Ensure realistic understanding of prognosis
- Work toward acceptable compromise
- Consider time-limited trials of intervention
- Maintain therapeutic relationship even if goals differ

## Teaching and Mentorship

### Teaching Patients
- Health information should be at appropriate literacy level
- Teach-back method confirms understanding
- Written materials reinforce verbal teaching
- Address misconceptions directly
- Cultural and language barriers require adaptation

### Teaching Families
- Family are essential to support recovery
- Teach specific skills, not just general advice
- Address family's questions and concerns
- Provide resources for additional information
- Recognize burden on family caregivers

### Mentorship of Junior Clinicians
- Explicit teaching of clinical reasoning
- Model evidence-based practice
- Provide guided experience with increasing independence
- Give constructive, specific feedback
- Encourage questioning and critical thinking
      `,
      keyPoints: [
        'Expert clinical reasoning involves continuous hypothesis generation and testing through data collection, pattern recognition, and revision',
        'Complex case management requires prioritization of multimorbidity, consideration of polypharmacy effects, and attention to psychosocial factors',
        'Effective interprofessional collaboration requires shared mental models, clear communication, and respect for each discipline\'s contributions',
        'Transitions of care are high-risk periods requiring careful planning, communication, and coordination across settings',
        'Ethical considerations include balancing autonomy and beneficence, navigating resource allocation, and managing disagreements about goals of care'
      ],
      flashcards: [
        { front: 'What are red flags in rehabilitation that require urgent medical attention?', back: 'Progressive neurological symptoms, unexplained weight loss, history of cancer, severe night pain, constitutional symptoms like fever or fatigue - these findings require immediate medical evaluation.' },
        { front: 'What are the key elements of effective interprofessional collaboration in rehabilitation?', back: 'Shared mental model of patient and plan, mutual respect for each discipline, clear and regular communication, defined roles and responsibilities, collaborative goal setting with patient and family alignment.' },
        { front: 'What strategies help navigate goals of care disagreements?', back: 'Clarify underlying values and fears driving preferences, ensure realistic understanding of prognosis, work toward acceptable compromise, consider time-limited trials of intervention, and maintain therapeutic relationship even when goals differ.' }
      ]
    }
  }
};
