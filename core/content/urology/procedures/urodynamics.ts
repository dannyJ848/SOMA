/**
 * Urodynamics - Educational Content
 */

import { EducationalContent } from '../../types';

export const urodynamics: EducationalContent = {
  id: 'procedure-urodynamics',
  type: 'topic',
  name: 'Urodynamics',
  alternateNames: ['Urodynamic Studies', 'UDS', 'Bladder Function Testing'],

  levels: {
    1: {
      level: 1,
      summary: 'Urodynamics are tests that measure how well your bladder and urethra store and release urine.',
      explanation: `Urodynamic testing helps your doctor understand why you have trouble with urination.

**Why It's Done:**
- Leaking urine
- Trouble emptying your bladder
- Frequent urge to urinate
- Weak urine stream
- Before bladder surgery

**What Happens:**
- Small catheters are placed in your bladder
- Your bladder is slowly filled with water
- The test measures pressures during filling and emptying
- Takes about 30-60 minutes

**What It Feels Like:**
- Mild discomfort during catheter placement
- Sensation of needing to urinate during filling
- Some people feel embarrassed but it's very routine

**After the Test:**
- Mild burning when urinating is normal
- Drink extra water
- Results help plan treatment`,
      keyTerms: [
        { term: 'urodynamics', definition: 'Tests that measure bladder and urethral function' },
        { term: 'catheter', definition: 'Thin tube used to fill the bladder and measure pressure' },
      ],
      analogies: [
        'Urodynamics is like testing the plumbing in your house to find where the problem is.',
      ],
      examples: [
        'A woman with leaking might have urodynamics to determine if she has stress or urge incontinence.',
      ],
    },
    2: {
      level: 2,
      summary: 'Urodynamics encompasses multiple tests including uroflowmetry, cystometry, pressure-flow studies, and electromyography to evaluate lower urinary tract function.',
      explanation: `## Components of Urodynamic Testing

**Uroflowmetry:**
- Non-invasive
- Measures flow rate and pattern
- Normal Qmax: >15 mL/sec (men), >20 mL/sec (women)

**Post-Void Residual:**
- Ultrasound or catheter
- Normal: <50 mL
- Significant: >200 mL

**Cystometry (CMG):**
- Filling catheter in bladder
- Rectal catheter for abdominal pressure
- Measures detrusor pressure during filling

**Pressure-Flow Study:**
- Measures pressures during voiding
- Identifies obstruction vs weak detrusor
- Required before BPH surgery

**EMG:**
- Sphincter activity
- Pelvic floor coordination
- Evaluates dyssynergia

## Key Measurements

| Parameter | Normal Value |
|-----------|--------------|
| First sensation | 150-200 mL |
| Normal desire | 300-400 mL |
| Strong desire | 400-500 mL |
| Capacity | 400-600 mL |
| Compliance | >20 mL/cm H2O |

## Indications

**Before Surgery:**
- Anti-incontinence procedures
- BPH surgery
- Prolapse surgery

**Evaluation:**
- Neurogenic bladder
- Complex incontinence
- Treatment failures`,
      keyTerms: [
        { term: 'cystometry', definition: 'Bladder pressure measurement during filling' },
        { term: 'Qmax', definition: 'Maximum urinary flow rate' },
        { term: 'detrusor pressure', definition: 'Pressure generated by bladder muscle' },
      ],
      analogies: [
        'Cystometry is like measuring tire pressure - too high or too low indicates a problem.',
      ],
    },
    3: {
      level: 3,
      summary: 'Urodynamic testing requires standardized technique, artifact recognition, and clinical correlation to accurately diagnose lower urinary tract dysfunction.',
      explanation: `## Technical Standards (ICS)

**Transducers:**
- External (most common)
- Catheter-tip (more accurate)
- Zeroed to symphysis pubis

**Filling:**
- Medium fill rate (50-100 mL/min)
- Body temperature saline
- Document provocation maneuvers

**Quality Control:**
- Initial resting pressures
- Cough test at start
- Signal quality checks
- Artifact recognition

## Calculations

**Detrusor Pressure:**
Pdet = Pves - Pabd

**Compliance:**
C = ΔV / ΔPdet

**Bladder Outlet Obstruction Index (BOOI):**
BOOI = PdetQmax - 2(Qmax)
- >40: Obstructed
- <20: Unobstructed

## Key Findings

**Detrusor Overactivity:**
- Involuntary contractions during filling
- With or without incontinence
- Phasic or terminal

**Stress Incontinence:**
- Leakage with increased abdominal pressure
- Positive cough leak
- No detrusor contraction

**Impaired Compliance:**
- <20 mL/cm H2O
- Upper tract risk
- Neurogenic or fibrosis

**Underactive Bladder:**
- Low Pdet during voiding
- Prolonged or incomplete voiding
- May need self-catheterization

## Artifacts

**Rectal Contractions:**
- Spikes in Pabd
- Similar spikes in Pves
- Flat Pdet

**Catheter Displacement:**
- Sudden pressure changes
- Loss of signal
- Requires repositioning`,
      keyTerms: [
        { term: 'BOOI', definition: 'Bladder outlet obstruction index - quantifies outlet obstruction' },
        { term: 'compliance', definition: 'Ability of bladder to accommodate volume without pressure rise' },
        { term: 'Pdet', definition: 'Detrusor pressure - calculated by subtracting abdominal from vesical pressure' },
      ],
      clinicalNotes: 'Always correlate urodynamic findings with symptoms. Asymptomatic detrusor overactivity on urodynamics may not require treatment.',
    },
    4: {
      level: 4,
      summary: 'Advanced urodynamics includes videourodynamics, ambulatory monitoring, and interpretation in complex neurological and reconstructed anatomy.',
      explanation: `## Videourodynamics

**Technique:**
- Fluoroscopy during urodynamics
- Contrast filling medium
- Simultaneous pressure and imaging

**Indications:**
- Neurogenic bladder
- Prior reconstruction
- Complex anatomy
- Vesicoureteral reflux evaluation

**Additional Information:**
- Bladder neck position
- Reflux timing and grade
- Site of obstruction
- Sphincter morphology

## Ambulatory Urodynamics

**Advantages:**
- Natural filling
- Longer observation
- Home environment
- Higher DO detection

**Limitations:**
- Technical challenges
- Artifact management
- Patient tolerance

## Neurogenic Bladder

**Upper Motor Neuron:**
- Detrusor overactivity
- DSD (detrusor-sphincter dyssynergia)
- High voiding pressures
- Upper tract risk

**Lower Motor Neuron:**
- Acontractile detrusor
- Low compliance may develop
- Sphincter weakness

**Lesion Level Assessment:**
- Suprapontine: Coordinated voiding
- Suprasacral: DSD
- Sacral/Infrasacral: Areflexia

## Special Populations

**Pediatric:**
- Age-appropriate capacity
- Awake vs sedated
- Natural fill preferred

**Post-Reconstruction:**
- Augmented bladders
- Neo-bladders
- Continent diversions
- Different normal values

## Provocative Testing

**Ice Water Test:**
- Identifies uninhibited detrusor
- Positive in upper motor neuron lesions

**Bethanechol Supersensitivity:**
- Denervation hypersensitivity
- Rarely used clinically`,
      keyTerms: [
        { term: 'DSD', definition: 'Detrusor-sphincter dyssynergia - uncoordinated sphincter contraction during voiding' },
        { term: 'videourodynamics', definition: 'Combined pressure testing with fluoroscopic imaging' },
        { term: 'ambulatory urodynamics', definition: 'Extended monitoring during normal activities' },
      ],
      clinicalNotes: 'Sustained detrusor pressure >40 cm H2O during filling or voiding puts upper tracts at risk. This threshold guides management in neurogenic bladder.',
    },
    5: {
      level: 5,
      summary: 'Expert urodynamics encompasses research applications, novel technologies, and quality improvement in functional lower urinary tract assessment.',
      explanation: `## Research Applications

**Drug Studies:**
- Urodynamics as endpoint
- Pre/post treatment comparison
- Objective outcome measure

**Surgical Outcomes:**
- Pre-operative risk stratification
- Post-operative evaluation
- Long-term follow-up

## Emerging Technologies

**High-Resolution Manometry:**
- Multiple sensors
- Spatial pressure mapping
- Detailed sphincter function

**Non-Invasive Alternatives:**
- Near-infrared spectroscopy
- Ultrasound-based detrusor thickness
- Acoustic monitoring

**Wearable Devices:**
- Continuous monitoring
- Home-based assessment
- Data integration

## Quality Improvement

**Standardization:**
- ICS good urodynamic practice
- Calibration protocols
- Training requirements

**Interpretation Reliability:**
- Inter-observer variability
- Structured reporting
- Clinical correlation

## Controversial Areas

**Routine Pre-Operative Testing:**
- Before incontinence surgery
- Cost-effectiveness debate
- VUDS trial data

**Urodynamics in BPH:**
- Pressure-flow vs empiric treatment
- When mandatory
- UPSTREAM study

## Machine Learning

**Pattern Recognition:**
- Automated artifact detection
- Diagnosis assistance
- Quality monitoring

**Predictive Models:**
- Treatment response
- Surgical outcomes
- Risk stratification

## Global Perspectives

**Resource Settings:**
- Simplified testing
- Clinical diagnosis emphasis
- Portable equipment

**Training:**
- Simulation
- Standardized competencies
- Quality assurance programs`,
      keyTerms: [
        { term: 'ICS', definition: 'International Continence Society - sets urodynamic standards' },
        { term: 'good urodynamic practices', definition: 'ICS document outlining standardized technique' },
        { term: 'UPSTREAM study', definition: 'Trial evaluating role of urodynamics before BPH treatment' },
      ],
      clinicalNotes: 'The VALUE trial showed that pre-operative urodynamics before surgery for uncomplicated stress incontinence did not change surgical outcomes. Reserve for complex cases.',
    },
  },

  media: [],
  citations: [
    {
      id: 'ics-urodynamics',
      type: 'article',
      title: 'Good Urodynamic Practices',
      source: 'International Continence Society',
    },
  ],
  crossReferences: [
    { targetId: 'condition-overactive-bladder', targetType: 'condition', relationship: 'related', label: 'Overactive Bladder' },
    { targetId: 'condition-urinary-incontinence', targetType: 'condition', relationship: 'related', label: 'Urinary Incontinence' },
  ],
  tags: {
    systems: ['urinary'],
    topics: ['procedures', 'diagnostics'],
    clinicalRelevance: 'high',
  },

  createdAt: '2025-01-24T00:00:00.000Z',
  updatedAt: '2025-01-24T00:00:00.000Z',
  version: 1,
  status: 'published',
};

export default urodynamics;
