{
  "project": "Biological Self - Phase 6",
  "branchName": "ralph/phase-6-clinical-reasoning",
  "description": "Phase 6: Clinical Reasoning Engine - Build the foundation for clinical thinking - differential diagnosis, red flags, and decision support",
  "userStories": [
    {
      "id": "US-201",
      "title": "Differential Diagnosis Data Model",
      "description": "Create comprehensive data structures for symptoms, conditions, and their probabilistic relationships",
      "acceptanceCriteria": [
        "Define Symptom interface with characteristics (onset, duration, severity, modifiers)",
        "Define Condition interface with diagnostic criteria, prevalence, red flags",
        "Create SymptomConditionMapping with likelihood ratios",
        "Include demographic modifiers (age, sex, risk factors)",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Foundation for all clinical reasoning. Implemented in core/clinical-reasoning/types.ts"
    },
    {
      "id": "US-202",
      "title": "Differential Diagnosis Generator",
      "description": "AI-powered system to generate ranked differential diagnoses from symptom input",
      "acceptanceCriteria": [
        "Input: array of symptoms with characteristics",
        "Output: ranked list of possible conditions with probabilities",
        "Use Bayesian reasoning with prior probabilities",
        "Consider symptom combinations and patterns",
        "LLM enhancement for nuanced clinical reasoning",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Core differential diagnosis engine. Implemented in core/clinical-reasoning/differential-diagnosis.ts"
    },
    {
      "id": "US-203",
      "title": "Red Flag Detection System",
      "description": "Identify dangerous symptom patterns requiring immediate medical attention",
      "acceptanceCriteria": [
        "Define red flag patterns for major emergencies (MI, stroke, PE, sepsis, etc.)",
        "Real-time symptom monitoring during input",
        "Urgency scoring (immediate, urgent, soon, routine)",
        "Clear actionable guidance for each red flag",
        "Never replace emergency services - always advise seeking care",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Safety-critical feature. Implemented in core/clinical-reasoning/red-flag-education.ts"
    },
    {
      "id": "US-204",
      "title": "Clinical Decision Tree Visualizer",
      "description": "Interactive visualization of diagnostic reasoning pathways",
      "acceptanceCriteria": [
        "Tree/graph visualization of diagnostic process",
        "Show branching based on symptom presence/absence",
        "Highlight current position in reasoning",
        "Explain why each branch is relevant",
        "Mobile responsive with touch interactions",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "UI component for visualizing reasoning. Implemented in src/components/clinical/DecisionTreeVisualizer.tsx"
    },
    {
      "id": "US-205",
      "title": "Clinical Reasoning Chat Mode",
      "description": "Enhance AI chat with structured clinical reasoning capabilities",
      "acceptanceCriteria": [
        "Chat can ask clarifying questions in clinical style",
        "Systematic review of systems integration",
        "Show reasoning process transparently",
        "Cite medical knowledge sources",
        "Appropriate disclaimers and limitations",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Enhance existing ChatView with clinical reasoning mode. Implemented in src/components/clinical/ClinicalReasoningChat.tsx"
    }
  ]
}
